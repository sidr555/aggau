/**
 * DOM-парсер для площадки utm.sberbank-ast.ru
 * Created by sidr on 08.02.16.
 */

/**
 *
 * @param $ - Dom7
 * @param string type [list,torg,lot]
 * @returns function
 */

var xml2json = require("xml2json");
var log = require("log")(module);

module.exports = function($, type){


    var conf = {

    }

    var json = xml2json.toJson($("#xmlData").val())

    log.info("JSON", json);


    switch (type) {
        case 'list':
            return function(html) {

            }
        case 'torg':
            return function(html) {

            }
        case 'lot':
            return function(html) {

            }
        default:
            throw new Error("Неизвестный тип страницы: " + type);

    }


    var parser = {};

    parser.getListItems = function() {

    }

    return parser;
}